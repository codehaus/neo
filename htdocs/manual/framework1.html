
            <p class="heading1">
                The ObjectContext</p>
  
            <p class="body">
                All entity factories require an <code>ObjectContext</code> as construction 
                parameter. Additionaly, all entities have a <code>Context</code> property which 
                returns an <code>ObjectContext</code>. What is this object context all about?
            </p>
            <p class="body">
                The object context has the following responsibilities:
            </p>
            <ul>
                <li>
                    It stores changes in entities in the database,</li>
                <li>
                    It retrieves entities from the database,</li>
                <li>
                    It serves as an in-memory cache of entities.</li>
            </ul>
            <p class="body">
                All communication with the database is performed using datastores. There is a 
                SqlDataStore, which works with Microsoft SQL Server, and an Oracle datastore, 
                which works with Oracle databases. The object context can take a datastore as a 
                construction-time parameter, like so:
            </p>
            <pre>
IDataStore dataStore = new SqlDataStore("Integrated Security=SSPI;Initial Catalog=pubs;Data Source=DBSERVER");
ObjectContext objectContext = new ObjectContext(dataStore);</pre>
            <p class="body">
                The one method you will probably use most is <code>SaveChanges</code>. This 
                method stores all in-memory changes to the database in one transaction:
            </p>
            <pre>
TitleFactory titleFactory = new TitleFactory(objectContext);
Title title = titleFactory.CreateObject("title");
title.Type = "Book";
.
.
.
// save everything in the db:
objectContext.SaveChanges();
            </pre>
            <hr>
            <p class="body">
                Next: <a href="framework2.html">Primary Keys</a>
            </p>

